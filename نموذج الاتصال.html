<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نموذج الاتصال</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 600px;
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h2 {
            text-align: center;
        }
        input, select, textarea {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        button {
            background-color: #5cb85c;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
        }
        button:hover {
            background-color: #4cae4c;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>نموذج الاتصال</h2>
    <form action="send_email.php" method="POST">
        <input type="text" name="full_name" placeholder="الاسم الكامل" required>
        <input type="date" name="dob" required>
        <select name="country" required>
            <option value="Libya">ليبيا</option>
            <option value="Oman">عمان</option>
            <option value="Saudi Arabia">السعودية</option>
            <option value="UAE">الإمارات</option>
            <option value="Kuwait">الكويت</option>
            <option value="Baheria">البحرية</option>
            <option value="Jordan">الأردن</option>
            <option value="Lebanon">لبنان</option>
            <option value="Tunisia">تونس</option>
            <option value="Yeman">اليمن</option>
            <option value="Sudan">السودان</option>
            <option value="Egypt">مصر</option>
            <option value="Algeria">الجزائر</option>
            <option value="Iraq">العراق</option>
            <option value="Syria">سوريا</option>
            <option value="Morocco">المغرب</option>
            <option value="Qatar">قطر</option>
        </select>
        <input type="text" name="phone" placeholder="رقم الهاتف مع رمز الدولة" required>
        <input type="email" name="email" placeholder="البريد الإلكتروني" required>
        <select name="course" required>
            <option value="">اختر الدورة</option>
            <option value="اللغة الإنجليزية">اللغة الإنجليزية</option>
            <option value="بكالوريوس">بكالوريوس</option>
            <option value="ماجستير">ماجستير</option>
            <option value="دكتوراه">دكتوراه</option>
        </select>
        <textarea name="message" rows="5" placeholder="رسالة"></textarea>
        <button type="submit">إرسال</button>
    </form>
</div>

</body>
</html>

<?php
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $full_name = htmlspecialchars(trim($_POST['full_name']));
    $dob = htmlspecialchars(trim($_POST['dob']));
    $country = htmlspecialchars(trim($_POST['country']));
    $phone = htmlspecialchars(trim($_POST['phone']));
    $email = htmlspecialchars(trim($_POST['email']));
    $course = htmlspecialchars(trim($_POST['course']));
    $message = htmlspecialchars(trim($_POST['message']));

    // تحقق من أن البريد الإلكتروني صحيح
    if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
        http_response_code(400);
        echo "البريد الإلكتروني غير صحيح.";
        exit;
    }

    // إعداد البريد الإلكتروني
    $to = "education.ecs@yahoo.com";
    $subject = "نموذج الاتصال من $full_name";
    $body = "الاسم الكامل: $full_name\nتاريخ الميلاد: $dob\nالدولة: $country\nرقم الهاتف: $phone\nالبريد الإلكتروني: $email\nالدورة: $course\nالرسالة: $message";
    $headers = "From: $email";

    // إرسال البريد الإلكتروني
    if (mail($to, $subject, $body, $headers)) {
        echo "تم إرسال الرسالة بنجاح.";
    } else {
        echo "حدث خطأ أثناء إرسال الرسالة.";
    }
} else {
    http_response_code(405);
    echo "الطريقة المحددة غير مسموح بها ضد هذه المورد.";
}
?>
